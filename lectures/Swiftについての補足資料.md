# 補足資料

## キャスト

先程Any型が登場しましたが、そのままでは足し算などができない(Any型とInt型を足し算することは出来ない)ので困ります。

そのため、目的の型にキャストしてあげる必要があります。キャストするにはasを使います。

しかし、Any型から任意の型へのキャストは失敗することがあります(数字の1が格納されているときにString型にキャストすることはできないですよね)

キャストが確実に成功するとは限らないときには、as!やas?を使います。

as!はキャストが失敗するとクラッシュします。それに対しas?はキャストが失敗するとnilを返します。

```
let c:[Any] = [1,"2",3.0] // Any型配列にするとなんでも入れられる

let d = c[0] as! Int // c[0]の中身はIntなのでキャストが成功する(d == 1)
let e = c[1] as? Int // c[1]の中身はStringなのでキャストが失敗する(e == nil )
let e = c[1] as! Int // クラッシュ
```

## 変数のスコープ

基本的にはブロック({}で囲まれている範囲)スコープですが、そうでないものがいくつかあるので紹介します

- グローバル変数
  
  クラス外に定義した変数はグローバル変数になります。

- if-let

  ```
  var a:Int? = 100

  if let b = a {
    print(b)
  }
  else {
    print("nil")
  }

  print(b) // エラー(変数bなんてないよ！って怒られる)
  ```

  ここでの変数bはif文の外で定義していますが、実際にはif文の中でしか使用できません。