# 原稿 #2

## 01

(とくになし)

## 02

今回やることはこの４つです。前回と比べるとだいぶしんどくなると思いますががんばりましょう。

第二回まで理解してしまえばおみくじアプリを作る分には何もこまらない程度にはSwiftがかけるようになると思います。

というわけでやっていきましょう。

## 03

まずはプロトコルです。
なんでしょうか。これ、覚えている人いますか？

Javaでインターフェースというワードを耳にしたことがあるひともいるかも知れませんが大体あれです。

## 04

Swiftでのプロトコルは実装するべきメソッドやフィールドを一覧にしたものです。
こいつらは実装自体は持ってません。実際に使うときはプロトコルを他のオブジェクトに適合させて使うことになります。

## 05

Objective-C時代にもプロトコルというものはあったのですが、あれとSwiftの構造体は別物です

Objective-C時代はメソッドだけしか持つことができなかったですが、フィールドも持つことができるようになりました。

あとは、プロトコルをクラスだけじゃなく構造体や列挙体にも適用することが可能になりました。

実は、Swiftではクラスの継承はあまり使用しません。プロトコルとExtensionをフル活用することで目的とするものがほとんど作れてしまうからです。

Extensionの話は第三回にするので楽しみにしててください

## 06

肝心のプロトコルに適合させる方法です。クラスにプロトコルを適合させる場合はこんな感じでできます。

構造体も列挙体もこんな感じでプロトコルに適合させることができます。構造体の話はこのあとすぐ出てきます

## 07

Objective-Cではあんまり出番がなかった構造体です

構造体は、色んな種類の値を１つの塊にまとめたものだというイメージを持ってもらえるといいのではないかと思います

イメージしづらいと思うので実際のコードを示します。

# 08

なんかクラス宣言とほとんど変わらないように見えますね。実際構造体とクラスの違いはほとんどありません。

Objective-C時代の構造体はメソッドを持つことができませんでしたが、Swiftでは持つことができます。

Swiftの構造体は、プロトコルに適合させることもできるようになっています。この場合はCarプロトコルに適合させていますね。

## 09

じゃあ構造体とクラスって何が違うんやって話です。

まず、クラスは既存のクラスを継承して新しいクラスを作ることができますが、構造体にそのような機能はありません。

それ以外にも違いがあります。

クラスは参照型で構造体は値型です。
なんかよくわからない概念が出てきましたね,,,

## 10

値型と参照型の違いは、変数に格納されているものの違いです。

値型の場合は値そのものが、参照型だと値の場所が格納されています。

## 11

値型と参照型、どれが値型でどれが参照型でしょうか。

構造体が値型でクラスが参照型であることを覚えておけば問題にはならないと思います。

ちなみに、配列やInt型、Double型やString型などおなじみの型は全部構造体でできてます。

Swiftの場合、あらゆるところで構造体が使われているんですが、どうしてなんでしょうか、クラスでだめなところがあるのでしょうか。

クラスで陥りがちな罠について説明します。

## 12

じゃあまずこの場合。

letでインスタンスを格納してますが、このletが固定しているのはインスタンスの参照であって、プロパティの値を固定しているわけじゃないです。

なのでプロパティの値を変更できてしまいます。

したの場合はインスタンスの参照自体を付け替えようとしているのでエラーになります。

こんな感じで意図せずインスタンスの中身が書き換えられてしまうことがあります

# 13

つぎもよく陥りがちな罠です


